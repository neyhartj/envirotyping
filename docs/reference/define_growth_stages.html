<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define crop growth stages — define_growth_stages • envirotyping</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Define crop growth stages — define_growth_stages" />
<meta property="og:description" content="Uses the output of a crop growth model, or some other user-defined quantity,
to assign crop growth stages to environmental data." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">envirotyping</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/using_envirotyping.html">`envirotyping` Workflow</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define crop growth stages</h1>
    
    <div class="hidden name"><code>define_growth_stages.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Uses the output of a crop growth model, or some other user-defined quantity,
to assign crop growth stages to environmental data.</p>
    </div>

    <pre class="usage"><span class='fu'>define_growth_stages</span><span class='op'>(</span><span class='va'>env.data</span>, <span class='va'>growth.stage.delim</span>, <span class='va'>stages</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>env.data</th>
      <td><p>A <code>data.frame</code> of trials with daily environmental data, as created from <code><a href='get_weather_data.html'>get_weather_data</a></code> or <code><a href='get_historical_weather_data.html'>get_historical_weather_data</a></code> (or another function that uses this data as an input, e.g. <code><a href='run_apsim_crop_model.html'>run_apsim_crop_model</a></code>. The variable you want to use to delineate growth stages must be contained in the 'data' element of this object.</p></td>
    </tr>
    <tr>
      <th>growth.stage.delim</th>
      <td><p>The variable you want to use to delineate growth stages in the 'data' element of <code>env.data</code>. For example, this may be the day of the year, or Zadok numeric stages, or growing degree days. It is up to the user to make sure that this variable is present.</p></td>
    </tr>
    <tr>
      <th>stages</th>
      <td><p>A named list with <code>character</code> expressions defining the growth stages based off the <code>growth.stage.delim</code> variable.  See <em>Details</em> for examples.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The elements of <code>stages</code> must be parsable logical expressions using the dummy variable "x," which will automatically be converted to the variable specified in <code>growth.stage.delim</code>. The rows in the 'data' elements of <code>env.data</code> that meet the criteria specified in <code>stages</code> will be designated to the appropriate growth stage, as given by the names of <code>stages</code>. For example, if <code>growth.stage.delim = "zadok_stage"</code> and <code>stages = list(stage1 = "x &gt;= 1 &amp; x &lt;= 10", stage2 = "x &gt; 10 &amp; x &lt;= 20")</code>, then rows in the 'data' element in which 'zadok_stage' is &gt;= 1 or &lt;= 10 will be designated as 'stage1', and rows in which 'zadok_stage' is &gt; 10 and &lt;= 20 will be designated as 'stage2' and so on.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Get weather data for each trial</span>
<span class='va'>trial_weather</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_weather_data.html'>get_weather_data</a></span><span class='op'>(</span>trial.info <span class='op'>=</span> <span class='va'>trial_info</span>, source <span class='op'>=</span> <span class='st'>"daymet"</span><span class='op'>)</span>

<span class='co'># Run a crop model for each trial</span>
<span class='co'># Use the zadok_stage to assign growth stages</span>
<span class='va'>trial_crop_growth</span> <span class='op'>&lt;-</span> <span class='fu'><a href='run_apsim_crop_model.html'>run_apsim_crop_model</a></span><span class='op'>(</span>env.data <span class='op'>=</span> <span class='va'>trial_weather</span>,base.model.path <span class='op'>=</span> <span class='st'>"barley"</span><span class='op'>)</span>

<span class='va'>barley_stages</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  early_vegetative <span class='op'>=</span> <span class='st'>"x &gt;= 10 &amp; x &lt;= 30"</span>, late_vegetative <span class='op'>=</span> <span class='st'>"x &gt; 30 &amp; x &lt;= 50"</span>,
  flowering <span class='op'>=</span> <span class='st'>"x &gt; 50 &amp; x &lt;= 70"</span>, grain_fill <span class='op'>=</span> <span class='st'>"x &gt; 70 &amp; x &lt;= 91"</span>
<span class='op'>)</span>

<span class='va'>trial_crop_stages</span> <span class='op'>&lt;-</span> <span class='fu'>define_growth_stages</span><span class='op'>(</span>env.data <span class='op'>=</span> <span class='va'>trial_crop_growth</span>, growth.stage.delim <span class='op'>=</span> <span class='st'>"zadok"</span>,
                                          stages <span class='op'>=</span> <span class='va'>barley_stages</span><span class='op'>)</span>

<span class='op'>}</span>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jeff Neyhart.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


